/*-------------------------------------------------------------------------------------------------------*/
/* stolen code from https://github.com/MrOtherGuy/firefox-csshacks & https://www.reddit.com/r/FirefoxCSS/ */
/* density: compact */
/* theme: dark */
/* i recommend using @import instead of this spaghetti */
/*-------------------------------------------------------------------------------------------------------*/
/*INDEX*/
/*autohide_bookmarks_toolbar.css*/
/*navbar_tabs_responsive_oneliner.css*/
/*page_action_buttons_on_hover.css*/
/*minimal_text_fields.css*/
/*theme_popups_and_menus.css*/
/*theme_color_variables.css*/
/*tab_close_button_always_on_hover.css*/
/*hide_toolbox_top_bottom_borders.css*/
/*mute button on pin tab align*/
/*hidin sumshit*/
/*sum visual teaks*/
/*megabar*/
/*-------------------------------------------------------------------------------------------------------*/

/*autohide_bookmarks_toolbar.css*/
#PersonalToolbar{
  --uc-bm-height: 20px; /* Might need to adjust if the toolbar has other buttons */
  --uc-bm-padding: 4px; /* Vertical padding to be applied to bookmarks */
  --uc-autohide-toolbar-delay: 400ms; /* The toolbar is hidden after 0.4s */
}

:root[uidensity="compact"] #PersonalToolbar{ --uc-bm-padding: 1px }
:root[uidensity="touch"] #PersonalToolbar{ --uc-bm-padding: 6px }

#PersonalToolbar:not([customizing]){
  position: relative;
  margin-bottom: calc(0px - var(--uc-bm-height) - 2 * var(--uc-bm-padding));
  transform: rotateX(90deg);
  transform-origin: top;
  transition: transform 50ms linear var(--uc-autohide-toolbar-delay) !important;
  z-index: 1;

}
#PlacesToolbarItems > .bookmark-item{ padding-block: var(--uc-bm-padding) !important; }

/* SELECT BOOKMARKS TOOLBAR BEHAVIOR */
/* Comment out or delete either one of these to disable that behavior */

/* Show when urlbar is focused */
/*
#nav-bar:focus-within + #PersonalToolbar{
  transition-delay: 100ms !important;
  transform: rotateX(0);
} 
*/

/* Show when cursor is over the toolbar area */
#navigator-toolbox:hover > #PersonalToolbar{
  transition-delay: 100ms !important;
  transform: rotateX(0);
}

/* Uncomment to enable compatibility for multi-row_bookmarks.css */
/* This would break buttons placed in the toolbar but that is likely not happening if you are using multi-row setup  */
/*
#PersonalToolbar:not([customizing]){
  position: fixed;
  display: block;
  margin-bottom: 0px !important;
}
*/

/*-------------------------------------------------------------------------------------------------------*/

/*navbar_tabs_responsive_oneliner.css*/
/* Make tabs and navbar appear side-by-side tabs on right */

/* Use page_action_buttons_on_hover.css to hide page-action-buttons to save more space for the address */

/* Toolbars will be shown normally if window width goes below the value below */
/* Modify it to suit your needs */

@media screen and (min-width: 1100px){
  /* Modify these to change relative widths or default height */
  #navigator-toolbox{
    --uc-navigationbar-width: 40vw;
    --uc-toolbar-height: 40px;
  }
/* prevent urlbar overflow on narrow windows */
/* Dependent on how many items are in navigation toolbar ADJUST AS NEEDED */
  @media screen and (max-width: 1300px){
    #urlbar-container{ min-width:unset !important }
  }

  /* Override for other densities */
  :root[uidensity="compact"] #navigator-toolbox{ --uc-toolbar-height: 32px; }
  :root[uidensity="touch"] #navigator-toolbox{ --uc-toolbar-height: 40px; }

  #TabsToolbar{ margin-left: var(--uc-navigationbar-width);}
  #tabbrowser-tabs{ --tab-min-height: var(--uc-toolbar-height) !important; }
  
  /* This isn't useful when tabs start in the middle of the window */
  .titlebar-placeholder[type="pre-tabs"],
  .titlebar-spacer[type="pre-tabs"]{ display: none }
  
  #navigator-toolbox > #nav-bar{
    margin-right:calc(100vw - var(--uc-navigationbar-width));
    margin-top: calc(0px - var(--uc-toolbar-height));
  }
  
  
/* Window drag space  */
  :root[tabsintitlebar="true"] #nav-bar{ padding-left: 24px !important; } /* not sure if this working anymore*/

/* Rules specific to window controls on right layout */
  @supports -moz-bool-pref("layout.css.osx-font-smoothing.enabled"){
    .titlebar-buttonbox-container{ position: fixed; display: block; left: 0px; z-index: 3; }
    :root[tabsintitlebar="true"] #nav-bar{ padding-left: 96px !important; padding-right: 0px !important; }
  }

  /* 1px margin on touch density causes tabs to be too high */
  .tab-close-button{ margin-top: 0 !important }

  /* Hide dropdown placeholder */
  #urlbar-container:not(:hover) .urlbar-history-dropmarker{ margin-inline-start: -28px; }
}
/* Fix customization view */
#customization-panelWrapper > .panel-arrowbox > .panel-arrow{ margin-inline-end: initial !important; }

/*-------------------------------------------------------------------------------------------------------*/

/*page_action_buttons_on_hover.css*/
/* Page action-buttons "slide in" when cursor is on top of them and don't reserve space when not used */

#page-action-buttons > *[class^=urlbar-icon]{
  margin-inline-end: -26px;
  opacity: 0;
  transition: margin-inline-end 100ms linear, opacity 200ms linear;
}
:root[uidensity="compact"] #page-action-buttons > *[class^=urlbar-icon]{ margin-inline-end: -22px; }
#page-action-buttons:hover > *[class^=urlbar-icon],
#page-action-buttons > *[class^=urlbar-icon][open],
#page-action-buttons > *[class^=urlbar-icon][open] ~ *[class^=urlbar-icon]{
  opacity: 1;
  margin-inline-end: 0px !important;
}

/*-------------------------------------------------------------------------------------------------------*/

/*minimal_text_fields.css*/
:root:not([customizing]){
  --lwt-toolbar-field-background-color: transparent !important;
  --lwt-toolbar-field-border-color: transparent !important;
  --toolbar-bgcolor: #2a2a2e !important;
}

#urlbar[open]{ background-color: var(--toolbar-bgcolor) !important; }

#urlbar,
#searchbar,
#search-box{
  -moz-appearance: none !important;
  background-color: var(--lwt-toolbar-field-background-color) !important;
  color: inherit !important;
}

#searchbar,
#urlbar,
.searchbar-textbox{
  box-shadow: none !important;
}

#tracking-protection-icon-container,
#identity-box ~ *,
.searchbar-textbox > *{
  opacity: 1;
  transition: opacity 150ms linear;
  border-image-slice: 0 !important;
}

#urlbar .urlbar-input-box,
.searchbar-textbox > moz-input-box{ opacity: 0.6 }

#identity-box ~ *:hover,
#tracking-protection-icon-container:hover, 
#tracking-protection-icon-container ~ *:hover,
#urlbar:focus-within > *,
#urlbar-input-container:focus-within > *,
.searchbar-textbox:hover > *,
.searchbar-textbox:focus-within > *{ opacity: 1 }

#identity-box{ border: none !important }

#urlbar:not(:hover) #identity-box{ background-image: radial-gradient(closest-side circle at 16px, orange 10%,transparent 35% ); }
#urlbar:not(:hover) #identity-box.verifiedIdentity{ background-image: radial-gradient(closest-side circle at 16px, lime 10%,transparent 35% ); }
#urlbar:not(:hover) #identity-box > *{ opacity: 0 }

:root[title="Firefox Nightly"] #identity-box,
:root[title="Mozilla Firefox"] #identity-box,

#urlbar[pageproxystate=invalid]:not([usertyping]) #identity-box,
#identity-box:hover,
#identity-box.chromeUI,
#identity-box.verifiedDomain{
  background-image: none !important;
}

#identity-box > #identity-icon-labels{ transition: max-width 150ms linear !important; }
#identity-box:not(:hover) > #identity-icon-labels{ max-width: 0px !important; }

#urlbar > #urlbar-background{ display: none !important; } 

/*-------------------------------------------------------------------------------------------------------*/

/*theme_popups_and_menus.css*/
/* Makes popups, menus and context menus dark */
/* Color editing should generally be done in theme_color_variables.css */

/*!!! IMPORT theme_color_variables.css !!!*/

/* Limit popups for general browser popups so that devtools is not affected */
@-moz-document url-prefix(chrome://browser/content/){
:root{ --panel-disabled-color: #888 !important; }

.panel-arrowcontent,
#alltabs-popup .arrowscrollbox-scrollbox,
menupopup:not(#BMB_bookmarksPopup),
.textbox-contextmenu{
	border: none !important;
	background: var(--uc-dark-bkgnd-color) !important;
	border-radius: 3px !important;
	color: var(--uc-text-color) !important;
}

/* bookmarks menu is different from others */
#BMB_bookmarksPopup{
  background-color: unset !important;
}

/* GENERAL */
menupopup,
menuitem,
menu{
	-moz-appearance: none !important;
}

menupopup{
  background-color:var(--uc-dark-bkgnd-color) !important; 
}

menuitem,
menu{
	min-height:24px !important;
  color: var(--uc-text-color) !important;
  padding: 3px 0px 3px 0px !important;
}

menuitem[disabled="true"],
menu[disabled="true"]{
  color: gray !important;
}

menuitem:hover,
menu:hover{
  background-color:var(--uc-active-color) !important;
}

menuitem[disabled="true"]:hover,
menu[disabled="true"]:hover{
  background-color: transparent !important;
}

.menu-right{ filter: invert(100%) }
#context-navigation{ background-color: transparent !important; }

/* POPUP PANELS */

.panel-subviews,
#mainPopupSet menupopup,
#main-menubar menupopup,
#bookmarks-menu-button menu menupopup > hbox,
.search-panel-header.search-panel-current-engine,
.search-panel-current-input,
panelview,
.PanelUI-subView,
.autocomplete-richlistbox,
#urlbar-results{
   background-color:  var(--uc-dark-bkgnd-color) !important;
}

.subviewbutton:hover,
#widget-overflow-mainView .toolbarbutton-1:hover,
#PopupAutoCompleteRichResult .autocomplete-richlistitem:hover,
#PopupSearchAutoComplete .autocomplete-richlistitem:hover{
  background-color: var(--uc-active-color) !important;
}

#widget-overflow-mainView #searchbar > .searchbar-textbox{
  background-color: var(--uc-light-bkgnd-color) !important;
  color: var(--uc-text-color) !important;
}

panelview toolbarbutton.subviewbutton .toolbarbutton-text,
#downloadsFooter,
#customizationui-widget-panel label,
.autocomplete-richlistitem .ac-title,
#widget-overflow-mainView toolbarbutton,
#bookmarks-menu-button menu menupopup,
#PopupSearchAutoComplete .autocomplete-tree.plain.search-panel-tree,
#PanelUI-contents toolbarbutton,
#alltabs_containersTab,
#PopupAutoCompleteRichResult .ac-title,
#PopupAutoCompleteRichResult .search-one-offs,
.search-panel-input-value{
  color: var(--uc-text-color)!important;
}

#alltabs-popup,
#alltabs_containersMenuTab{
  border: none !important;
}

.search-panel-one-offs,
.downloadsPanelFooterButton:not(:hover),
#overflowMenu-customize-button:not(:hover),
#searchbar-anon-search-settings{
  background-color: var(--uc-light-bkgnd-color) !important;
}

#PopupAutoCompleteRichResult .ac-emphasize-text.ac-emphasize-text-title{
	color: var(--uc-border-color) !important;
}

#editBookmarkPanel textbox,
#editBookmarkPanel menulist,
#editBookmarkPanel button,
#editBookmarkPanel richlistbox,
#editBookmarkPanel tree{
  -moz-appearance: none !important;
  background-color: var(--uc-light-bkgnd-color) !important;
  color: var(--uc-text-color) !important;
}

#editBookmarkPanel button:hover{ filter: brightness(150%) }
#editBookmarkPanel menulist{ padding: 4px !important; }
#editBookmarkPanel button{ padding: 3px !important; }

#editBMPanel_folderTree treechildren::-moz-tree-cell(selected){ background-color: var(--uc-border-color) !important; }
#editBMPanel_folderTree treechildren::-moz-tree-cell(hover){ background-color: var(--uc-active-color) !important; }
}

/*-------------------------------------------------------------------------------------------------------*/

/*theme_color_variables.css*/
/* Color controls for theme_***.css files */
:root{
  --uc-dark-bkgnd-color: #2a2a2e;
  --uc-light-bkgnd-color: #2a2a2e;
  --uc-active-color: #0063b1;
  --uc-text-color: white;
  --uc-border-color: rgb(43,130,191);
}

/*-------------------------------------------------------------------------------------------------------*/

/*tab_close_button_always_on_hover.css*/
/* Always show tab close button on hover and never otherwise */
.tabbrowser-tab .tab-close-button{
  display:none;
}
.tabbrowser-tab:not([pinned]):hover .tab-close-button{
  display:-moz-box !important;
}

/*-------------------------------------------------------------------------------------------------------*/

/*hide_toolbox_top_bottom_borders.css*/
:root[sizemode="normal"]{ border-top: none !important }
#navigator-toolbox::after{ content: none !important }
#navigator-toolbox{ border-bottom: none !important }
/* Removes few remaining extra lines above tabs in non-maximized windows */
/* Also prevents small vertical shift when moving tabs in compact density - who knows why */
/* :root[sizemode="normal"] #titlebar{ -moz-appearance: none !important;} - this broke too lazy to find out so yeah.. */

/* OPTIONAL - uncomment to remove still remaining space atop of tabs */
/* This just increases the height of tabs by few pixels, not decrease the toolbar height */


/* #TabsToolbar > .toolbar-items > spacer{ display: none; }

/*-------------------------------------------------------------------------------------------------------*/

/*mute button on pin tab align*/
.tab-icon-overlay {
  margin-top: -2px !important;
  margin-right: 0px !important;
  margin-left: -16px !important;
}

/*-------------------------------------------------------------------------------------------------------*/

/*hidin sumshit*/
.bookmark-item[type="menu"][container="true"] menuitem[label="Open All in Tabs"],
.bookmark-item[type="menu"][container="true"]
.bookmarks-actions-menuseparator, 
#library-button,
#firefox-account-button, 
/* .webextension-browser-action, */
#star-button-box, 
#reader-mode-button, 
#pageActionSeparator, 
#pageActionButton,
#pocket-button-box,
#nav-bar-overflow-button,
menuseparator,
.autocomplete-history-dropmarker, 
.urlbar-history-dropmarker.urlbar-icon.chromeclass-toolbar-additional,
#TabsToolbar .titlebar-placeholder[type="pre-tabs"], 
#identity-icon-labels,
#fxa-toolbar-menu-button,
#sidebar-button,
.search-one-offs,
#urlbar-go-button{
  display: none !important;
}

/*-------------------------------------------------------------------------------------------------------*/

/*sum visual teaks*/

#nav-bar { border: none !important; }
#PanelUI-button, .panel-arrow                       { -moz-box-ordinal-group: 0 !important; }                                            /* hamburger menu to the left */
#navigator-toolbox                                  { border-bottom: 0px solid var(--chrome-content-separator-color) !important; }       /* hide line at the bottom of tabbar */
#navigator-toolbox                                  { background-color: #2a2a2e !important; }                                            /* background of background? */
#urlbar-container, #search-container, #urlbar       { padding-block: 0px !important; margin-inline: 0px !important; }                    /* hide space between urlbar and tabbar also fill addressbar with urlbar */
.tabbrowser-tab[fadein]                             { height: 28px !important; min-width: 25px !important; max-width: 140px !important; }/* set tabs height and width */
.tabbrowser-tab::after, .tabbrowser-tab::before     { border-left: none !important; }                                                    /* disapear spacer between tabs */
.tab-background[selected="true"]                    { background-color: #0063b1 !important; background-image: none !important; }         /* active tab background */
.tab-background[selected="true"]                    { height: 28px !important;}                                                          /* height of active tab */
.tab-background:not([selected])                     { background-color: #2a2a2e !important; }                                            /* inactive tab background */
.tab-line                                           { height: 0px !important; }                                                          /* blue line above active tab */
/*.urlbarView-body-outer                              { margin: -2px !important; }                                                       /* remove line of url droplist */ 
.tab-icon-image, .tab-close-button, .tab-icon-sound { margin-top: -2px !important; }                                                     /* align icons on tab */
.tab-text, .tab-label                               { margin-top: -2px !important; }                                                     /* align tex on tab */

/*-------------------------------------------------------------------------------------------------------*/

/*megabar*/
#urlbar[breakout][breakout-extend] {
        top: calc((var(--urlbar-toolbar-height) - var(--urlbar-height)) / 2) !important;
        left: 0 !important;
        width: 100% !important;
    }

#urlbar[breakout][breakout-extend] > #urlbar-input-container {
        height: var(--urlbar-height) !important;
        padding-block: 0 !important;
        padding-inline: 0 !important;
    }

#urlbar[breakout][breakout-extend] > #urlbar-background {
        animation-name: none !important;
        box-shadow: 0 1px 4px rgba(0, 0, 0, .05) !important;
    }

.urlbarView {
        margin-inline: 0 !important;
        width: 100% !important;
    }

.urlbarView-body-inner {
  border: none !important;
}

.urlbarView-row {
  max-height: 40px !important;
}


/*-------------------------------------------------------------------------------------------------------*/
